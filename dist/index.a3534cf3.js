const e=document.querySelector("form"),t=document.querySelector(".current-todos"),o=document.querySelector(".finished-todos"),d=document.querySelector("#todo");e.addEventListener("submit",(e=>{e.preventDefault();const o=document.createElement("div");let a,s=d.value;s?(o.textContent=s,o.classList.add("todo-item"),t.append(o),a=null===localStorage.getItem("todos")?[]:JSON.parse(localStorage.getItem("todos")),a.push(s),localStorage.setItem("todos",JSON.stringify(a))):console.log("Nothing there....")})),document.addEventListener("DOMContentLoaded",(()=>{a()}));const a=()=>{JSON.parse(localStorage.getItem("todos")).forEach((e=>{const t=document.createElement("div");t.className="todo-item done",t.setAttribute("data-finished-item","true"),t.textContent=e,o.append(t)}))};d.addEventListener("focus",(()=>{d.value=""})),document.addEventListener("click",(e=>{"todo-item"===e.target.className&&t.children.length>0&&(e.target.classList.add("done"),e.target.setAttribute("data-finished-item","true"),o.append(e.target))})),document.addEventListener("dblclick",(e=>{let t;e.target.hasAttribute("data-finished-item")&&e.target.classList.contains("done")&&(o.removeChild(e.target),document.querySelector(".message").classList.remove("hidden"),t=null===localStorage.getItem("todos")?[]:JSON.parse(localStorage.getItem("todos")),t.forEach(((o,d)=>{e.target.textContent===o&&t.splice(d,1)})),localStorage.setItem("todos",JSON.stringify(t))),setTimeout((()=>{document.querySelector(".message").classList.add("hidden")}),2e3)}));